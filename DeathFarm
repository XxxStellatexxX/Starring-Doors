repeat task.wait() until game:GetService("ReplicatedStorage"):FindFirstChild("RemotesFolder")

task.wait(1)
repeat task.wait() until game.Players.LocalPlayer.Character 

if not queue_on_teleport then
 if getgenv().Library then

getgenv().Library:Notify("Queue On teleport not Supported",4)

end
return
end


if not replicatesignal then
 if getgenv().Library then

getgenv().Library:Notify("replicatesignal not Supported",4)

end
return
end

replicatesignal(game.Players.LocalPlayer.Kill)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")

if workspace:FindFirstChild("SpawnLiocation") then
LocalPlayer:SetAttribute("MoveLocation",true)
end

local Door = workspace.CurrentRooms["0"].Door.Door
Door.Parent:SetAttribute("Opened",false)

RunService.RenderStepped:Connect(function()
if workspace.CurrentRooms:FindFirstChildOfClass("Model") then
local Key = workspace:FindFirstChild("KeyObtain",true)
local Pos = Door.Position + Door.CFrame.LookVector * -4

if LocalPlayer.Character then

LocalPlayer.Character.Collision.CanCollide = false



if not LocalPlayer.Character:FindFirstChild("Key") then
if Key then
LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Key.PrimaryPart.Position)
fireproximityprompt(Key:FindFirstChildOfClass("ProximityPrompt"))
end
else
LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(Pos)
if Door.Parent:FindFirstChild("Lock") then
if (LocalPlayer.Character.HumanoidRootPart.Position - Door.Parent.Lock.Position).Magnitude < 5.5 then
fireproximityprompt(Door.Parent:FindFirstChild("Lock"):FindFirstChildOfClass("ProximityPrompt"))
end
end

end

if replicatesignal and Door.Parent:GetAttribute("Opened") then
replicatesignal(LocalPlayer.Kill)
end

end
end
end)
LocalPlayer.Character.Humanoid.Died:Connect(function()
game:GetService("ReplicatedStorage").RemotesFolder.Statistics:FireServer()
task.wait(1.5)
game.ReplicatedStorage.RemotesFolder.PlayAgain:FireServer() 
end)

queue_on_teleport('loadstring(game:HttpGet("https://raw.githubusercontent.com/XxxStellatexxX/Starring-Doors/refs/heads/main/DeathFarm"))()')
